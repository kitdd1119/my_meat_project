<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/topbar/myInformation.css">
  <title>내 정보</title>
</head>

<body>
  <div class="main"> <!-- 큰 틀 -->
    <div class="mainTopBar"> <!-- 상단 툴 바 전체 -->
      <div class="topBarLog"> <!-- (로그인-회원가입)를 넣기 위한 틀 -->
        <div class="newUser"><button onclick=joinPage()>회원가입</button></div>
        <div class="login"><button onclick=loginPage()>로그인</button></div>
      </div>
      <!-- 로고 - 검색툴 - 지도와 내정보와 커뮤니티 이미지 -->
      <div class="topBarContent">
        <!-- 로고 -->
        <div class="logo">
          <button onclick=mainPage()>
            <img class="logoImg" src="/image/rogo.png" alt="로고">
          </button>
        </div>
        <!-- 검색툴 -->
        <div class="search">
          <input placeholder="검색어를 입력해주세요">
          <button>
            <img class="searchImg" src="/image/search.png" alt="검색">
          </button>
        </div>
        <!-- 지도와 내정보와 커뮤니티 이미지 -->
        <div class="topBarImg">
          <div class="topBarMap">
            <button onclick=mapPage()>
              <img class="mapImg" src="/image/mapmarker.png" alt="지도">
            </button>
          </div>
          <div class="topBarMyInformation">
            <button onclick=myInformationPage()>
              <img class="myInformationImg" src="/image/user.png" alt="내정보">
            </button>
          </div>
          <div class="topBarCommunity">
            <button onclick=communityPage()>
              <img class="communityImg" src="/image/community.png" alt="커뮤니티">
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>
    <h1>내 정보</h1>
    <div>
      <h2>내 정보 보기</h2>
      <p>이름: John Doe</p>
      <p>이메일: john@example.com</p>
      <p>전화번호: 123-456-7890</p>
      <button onclick="editMyInformation()">내 정보 수정</button>
    </div>

    <div id="editForm" style="display: none;">
      <h2>내 정보 수정</h2>
      <form>
        <label for="name">이름:</label>
        <input type="text" id="name" name="name"><br>

        <label for="email">이메일:</label>
        <input type="email" id="email" name="email"><br>

        <label for="phone">전화번호:</label>
        <input type="tel" id="phone" name="phone"><br>

        <button type="button" onclick="saveChanges()">저장</button>
        <button type="button" onclick="cancelEdit()">취소</button>
      </form>
    </div>
  </div>
</body>
<script>
  const mainPage = () => location.href = "/";

  const joinPage = () => location.href = "/auth/join";
  const loginPage = () => location.href = "/auth/login";

  const mapPage = () => location.href = "map";
  const myInformationPage = () => location.href = "myInformation";
  const communityPage = () => location.href = "community";

  const editMyInformation = () => {
    document.getElementById("editForm").style.display = "block";
  };

  const saveChanges = () => {
    const newName = document.getElementById("name").value;
    const newEmail = document.getElementById("email").value;
    const newPhone = document.getElementById("phone").value;

    // TODO: 실제로 서버로 수정된 정보를 보내고 처리하는 로직이 필요합니다.

    // 수정 완료 후, 수정 폼을 감추고 정보 보기 섹션을 업데이트합니다.
    document.getElementById("editForm").style.display = "none";
    document.querySelector("h2").textContent = `내 정보 보기 (${newName})`;
    document.querySelector("p:nth-of-type(1)").textContent = `이름: ${newName}`;
    document.querySelector("p:nth-of-type(2)").textContent = `이메일: ${newEmail}`;
    document.querySelector("p:nth-of-type(3)").textContent = `전화번호: ${newPhone}`;
  };

  const cancelEdit = () => {
    document.getElementById("editForm").style.display = "none";
  };
</script>

</html>